@import url('https://fonts.googleapis.com/css2?family=Inter+Tight:wght@500;700;900&family=Urbanist:wght@600;800&display=swap');
@import "./styles/aspect.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: #000;
  --bg-90: rgba(0, 0, 0, 0.9);
  --fg: #F2F2F2;
  --muted: #A5A5A5;
  --accent: #12D8FF;
  --accent-2: #E7FF55;
  --radius-xl: 22px;
  --ring: 0 0 0 2px rgba(18, 216, 255, 0.8), 0 0 24px rgba(18, 216, 255, 0.35);
  
  /* Subtitle styling variables - Netflix-like */
  --subs-font-size: 1.5rem;
  --subs-font-size-mobile: 1.2rem;
  --subs-line-height: 1.3;
  --subs-shadow: 0 1px 2px rgba(0, 0, 0, 0.9), 0 0 4px rgba(0, 0, 0, 0.7);
  --subs-bg: rgba(0, 0, 0, 0.75);
  --subs-max-width: 80%;
  --subs-bottom-margin: 4rem;
}

/* Native video text tracks - Netflix/Stremio style bottom positioning */
video::cue {
  font-size: var(--subs-font-size);
  line-height: var(--subs-line-height);
  text-shadow: var(--subs-shadow);
  background: transparent;
  color: white;
  font-family: 'Inter Tight', Arial, sans-serif;
  font-weight: 700;
  text-align: center;
  position: relative;
  left: 50%;
  transform: translateX(-50%);
  max-width: 80%;
  margin: 0 auto;
}

@media (max-width: 768px) {
  video::cue {
    font-size: var(--subs-font-size-mobile);
    max-width: 90%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html, body {
    background: var(--bg);
    color: var(--fg);
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    font-family: 'Inter Tight', system-ui, -apple-system, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer utilities {
  .focus-ring {
    outline: none;
    transition: all 200ms ease;
  }

  .focus-ring:focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
  }

  .focus-glow {
    outline: none;
    transition: all 200ms ease;
  }

  .focus-glow:focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
  }

  [data-focusable="true"] {
    @apply outline-none transition-all duration-200;
  }

  [data-focusable="true"]:focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
  }

  .scroll-snap-x {
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }

  .scroll-snap-child {
    scroll-snap-align: start;
  }

  .text-shadow {
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
  }

  .gradient-fade-b {
    background: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.8) 100%);
  }

  .gradient-fade-t {
    background: linear-gradient(to top, transparent 0%, rgba(0, 0, 0, 0.8) 100%);
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Netflix-like subtitle styling with CSS variables */
video::cue {
  color: #fff;
  background: transparent !important;
  text-shadow: var(--subs-shadow);
  font-family: 'Inter Tight', Arial, sans-serif;
  font-weight: 600;
  font-size: var(--subs-font-size);
  line-height: var(--subs-line-height);
  letter-spacing: -0.02em;
  white-space: pre-line;
  text-align: center;
}

/* Mobile subtitle adjustments */
@media (max-width: 768px) {
  video::cue {
    font-size: var(--subs-font-size-mobile);
  }
}

/* Subtitle positioning - ensure safe margin above controls */
video::-webkit-media-text-track-container {
  overflow: visible !important;
  position: absolute !important;
  bottom: var(--subs-bottom-margin) !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  text-align: center !important;
  display: flex !important;
  justify-content: center !important;
  align-items: flex-end !important;
  padding: 0 5% !important;
  box-sizing: border-box !important;
}

video::-webkit-media-text-track-display {
  overflow: visible !important;
  max-width: var(--subs-max-width) !important;
  margin: 0 auto !important;
  width: auto !important;
  text-align: center !important;
  display: inline-block !important;
}
